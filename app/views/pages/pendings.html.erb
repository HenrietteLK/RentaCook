<% if current_user.chef_status == false %>
  <% if current_user.bookings.count >= 1 %>
    <div class="col-12 d-flex justify-content-center">
      <div class="m-3 fs-2">
        <p>Reservations</p>
      </div>
    </div>
    <% current_user.bookings.each do |booking| %>
      <div class="d-flex bg-white justify-content-center" style="width: 100%">
        <div class="col-10 bg-white mt-3 d-flex justify-content-center">
          <div id="booking-card" class="col-12 bg-white mt-3 border border-dark-subtle rounded-4 shadow d-flex flex-row justify-content-center" style="height: 100px">
            <div class="col-6 pt-2 px-2" style="height: 100%">
              <p class="mb-0"><%=booking.chef.user.first_name%> <%=booking.chef.user.last_name%> : <%=booking.specialty%></p>
              <p class="mb-0"><%= booking.start_date%> - <%=booking.end_date%></p>
              <p class="mb-0"><%= booking.message %></p>
            </div>
            <div class="col-6 d-flex flex-column justify-content-end align-items-end pe-3">
              <p><%= booking.status %></p>
              <p><%= booking.total_price %>€</p>
            </div>
          </div>
        </div>
      </div>
    <% end %>
  <% else %>
  <div class="col-12 d-flex justify-content-center align-items-center" style="height: 600px">
    <div class="rowm-3 fs-2">
      <p>You have no reservations at the moment.</p>
    </div>
  </div>
  <% end %>
<% else %>
  <% if @pending_bookings_user.any? %>
    <div class="col-12 d-flex justify-content-center">
      <div class="mt-3 mx-3 mb-0 fs-2">
        <p>Your reservations as a user :</p>
      </div>
    </div>
    <% current_user.bookings.each do |booking| %>
      <div class="d-flex bg-white justify-content-center" style="width: 100%">
        <div class="col-10 bg-white mt-3 d-flex justify-content-center">
          <div id="booking-card" class="col-12 bg-white my-2 border border-dark-subtle rounded-4 shadow d-flex flex-row justify-content-center" style="height: 100px">
            <div class="col-6 pt-2 px-2" style="height: 100%">
              <p class="mb-0"><%=booking.chef.user.first_name%> <%=booking.chef.user.last_name%> : <%=booking.specialty%></p>
              <p class="mb-0"><%= booking.start_date%> - <%=booking.end_date%></p>
              <p class="mb-0"><%= booking.message %></p>
            </div>
            <div class="col-6 d-flex flex-column justify-content-end align-items-end pe-3">
              <p><%= booking.status %></p>
              <p><%= booking.total_price %>€</p>
            </div>
          </div>
        </div>
      </div>
    <% end %>
  <% else %>
    <div class="col-12 d-flex justify-content-center align-items-center">
      <div class="m-3 fs-2">
        <p>You have no reservations as a user at the moment.</p>
      </div>
    </div>
  <% end %>
    <div class="col-12 d-flex justify-content-center">
      <div class="m-3 fs-2">
        <p>Your reservations as a Chef :</p>
      </div>
    </div>
  <% if @pending_bookings_chef.any? %>
    <% @pending_bookings_chef.each do |booking| %>
      <div class="d-flex bg-white justify-content-center" style="width: 100%">
        <div class="col-10 bg-white mt-3 d-flex justify-content-center">
          <div id="booking-card" class="col-12 bg-white my-2 border border-dark-subtle rounded-4 shadow d-flex flex-row justify-content-center" style="height: 100px">
            <div class="col-8 pt-2 px-2" style="height: 100%">
              <p class="mb-0"><%=booking.user.first_name%> <%=booking.user.last_name%> : <%=booking.specialty%></p>
              <p class="mb-0"><%= booking.start_date%> - <%=booking.end_date%></p>
              <p class="mb-0"><%= booking.message %></p>
            </div>
            <div class="col-1 d-flex flex-column justify-content-end align-items-center pe-3">
              <p><%= booking.total_price %>€</p>
            </div>
            <div class="col-3 d-flex flex-row align-items-center justify-content-between p-3">
              <div style="text-align-start bold">
                <p class><%= booking.status %> :</p>
              </div>
              <div>
                <%= link_to "Accept", edit_booking_path(booking, status: 'Accepted'), class: "btn", id:  "button-accepted", style: "background-color: green"%>
                <%= link_to "Refuse", edit_booking_path(booking, status: 'Refused'), class: "btn btn-red", id:"button-refused", style: "background-color: red" %>
              </div>
            </div>
          </div>
        </div>
      </div>
    <% end %>
  <% end %>
  <% @all_bookings_chef.each do |booking| %>
    <div class="d-flex bg-white justify-content-center" style="width: 100%">
      <div class="col-10 bg-white mt-3 d-flex justify-content-center">
        <div id="booking-card" class="col-12 bg-white my-2 border border-dark-subtle rounded-4 shadow d-flex flex-row justify-content-center" style="height: 100px">
          <div class="col-7 pt-2 px-2" style="height: 100%">
            <p class="mb-0"><%=booking.user.first_name%> <%=booking.user.last_name%> : <%=booking.specialty%></p>
            <p class="mb-0"><%= booking.start_date%> - <%=booking.end_date%></p>
            <p class="mb-0"><%= booking.message %></p>
          </div>
          <div class="col-5 d-flex flex-column justify-content-end align-items-end pe-3">
            <p><%= booking.status %></p>
            <p><%= booking.total_price %>€</p>
          </div>
        </div>
      </div>
    </div>
  <% end %>
<% end %>
