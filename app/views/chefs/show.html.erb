
<div class="d-flex flex-column justify-content-center align-items-center mt-5">

    <div class="card mb-4 max-width-900 border-8">
      <div class="card-header">
        <h1 class="card-title text-success"><%= @chef.user.first_name %> <%= @chef.user.last_name %></h1>
      </div>
      <div class="card-body">
        <div class="row">
          <% if @chef.user.profile_picture.present? %>
            <div class="col-md-4">
              <img src="<%= @chef.user.profile_picture %>" alt="<%= @chef.user.first_name %>'s profile picture" class="image-size img-fluid rounded-circle">
            </div>
          <% end %>

          <div class="col-md-8">
            <p><strong>Email:</strong> <%= @chef.user.email %></p>
            <p><strong>Phone Number:</strong> <%= @chef.user.phone_number %></p>
            <p><strong>Address:</strong> <%= @chef.user.address %></p>
            <p><strong>Specialties:</strong> <%= @chef.specialties %></p>
            <p><strong>Availability:</strong> <%= @chef.availability %></p>
            <p><strong>Price:</strong> <%= @chef.price_per_day %></p>
          </div>
        </div>
      </div>
    </div>

    <div class="card mb-4 max-width-900 border-8">
      <div class="card-header">
        <h2 class="card-title text-success">Reviews</h2>
      </div>
      <div class="card-body">
        <ul class="list-group">
          <% @chef.reviews.each do |review| %>
            <li class="list-group-item border-8 rounded">
              <strong>Rating:</strong> <%= review.rating %>/5
              <p><strong>Comment:</strong> <%= review.comment %></p>
            </li>
          <% end %>
        </ul>
      </div>
    </div>


  <button type="button" class="btn btn-primary mb-3" data-bs-toggle="modal" data-bs-target="#bookingModal">
    Book this Chef
  </button>

  <div class="modal fade" id="bookingModal" tabindex="-1" aria-labelledby="bookingModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header bg-primary">
          <h5 class="modal-title text-success" id="bookingModalLabel">Book this Chef</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <%= simple_form_for([@chef, @booking], html: { class: 'mt-3' }) do |f| %>
            <div class="mb-3">
              <%= f.input :specialty, collection: JSON.parse(@chef.specialties), label: "Choose Specialty", prompt: "Select a specialty", input_html: { id: 'specialty_select' } %>
            </div>
            <div class="mb-3">
              <%= f.input :start_date, as: :string, label: "Start Date", input_html: { type: 'date' } %>
            </div>
            <div class="mb-3">
              <%= f.input :end_date, as: :string, label: "End Date", input_html: { type: 'date' } %>
            </div>
            <div class="mb-3">
              <%= f.input :message, label: "Message", as: :text, input_html: { rows: 4 } %>
            </div>
            <%= f.button :submit, 'Submit Booking', class: 'btn btn-primary' %>
          <% end %>
        </div>
      </div>
    </div>
  </div>

  <div class="mt-4 mb-4" >
    <%= link_to 'Back to Chefs', chefs_path, class: 'btn btn-primary' %>
  </div>
</div>
